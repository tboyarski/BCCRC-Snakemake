# ReBam Module (Multi-Snakemake)
This directory contains the ReBam module. It is a multi-module system and contains 
four modules which are heavily correlated. 

## Modules:
See invidual files for expanded explanations of their purpose and the manner in which they accomplish it.
* undoBAM: Conversion of a '.BAM' file to a '.Fastq' file.
* alignBAM: Conversion of a '.Fastq file to a '.BAM' file.
* sortBAM: Sorting of a '.BAM' file, via SAMTOOLS, or BIOBAMBAM
* indexBAM: Indexing of a '.BAM' file.
* filteredBAM: Filtering of a '.BAM' file.
* rmdupBAM: Remove duplicates from a '.BAM' file.
* markdupBAM: Mark diplicates in a '.BAM' file and produce metrics.
* **ReBam: Master file which includes the four modules above.**

## Logging:
Will be stored in: "log/reBam"

## Global Directories:
* inputDIR = Directory to contain all files prior to starting pipeline.
* refDIR = Directory to contain the reference genome file.
* outputDIR = Directory to contain all file generated by the pipeline
* bamDIR = Directory to contain the '.BAM' files.
* fastqDIR = Directory to contain the '.fastq' files.
* metricsDIR = Directory to contain the metrics files.

## Global Paramters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
alignBAM | fastqKEEP | False | Flag of 'True' or 'False' on retaining '.fastq' files after they are used in the pipeline.
alignBAM | refFILE | GRCh37-lite.fa | Name of the reference genome file. 

## Module Specific Paramters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All (!undoBAM) | reBamDIR | reBam | Directory to contain the processed '.BAM' files.
undoBAM & alignBAM | fastqDIR | fastq | Directory to contain the '.fastq' files.
sortBAM | sortProg | samtools | Decide if module uses 'samtools' or 'biobambam' to sort the '.BAM' file. 
undoBAM | rawBamDIR | rawBam | Directory to contain the unprocessed '.BAM' files.
indexBAM | fileTAG | _realigned_sorted | String used to pull together various BAM-type modules.
filteredBAM | bitFLAG | 512 | Must pass QC threshold.
