#-------------------------------------------------------------------
# Author:   Tim Boyarski                                            
# Date:     2017-02-28                                              
#-------------------------------------------------------------------
# Rule specific configurations set in:      ReBamPlus.json          
# Rule specific parameters set in:          ReBamPlus.yaml          
# Input:                                    .BAM                    
# Output:                                   1.fastq                 
#                                           2.fastq                 
#                                           realigned.BAM           
#                                           realigned_sorted.BAM,   
#                                           realigned_sorted.BAM.BAI
# Purpose: Master Workflow calling fileParse and ReBamPlus.         
#-------------------------------------------------------------------

#include: "ReBamPlus/Snakefile"
configfile: "PipePlus.yaml"



# Current directory:
currDIR = "/home/tboyarski/share/projects/tboyarski/gitRepo-LCR-BCCRC/Snakemake/ReBamPlus/"

# Include cluster configuration file.
#configfile: currDIR + "ReBamPlus.yaml"

# Include all required Snakefiles.
#   undoBAM:    Fastq generation from a BAM file
#   alignBAM:   BAM generation from a Fastq file
#   sortBAM:    Sorting of the BAM file
#   indexBAM:   Indexing of a BAM file
include: currDIR + "undoBAM"
include: currDIR + "alignBAM"
include: currDIR + "sortBAM"
include: currDIR + "indexBAM"








rule BamtoBAI:
    #input: ReBamPlus("bam/Pfeiffer2_realigned_sorted.bam.bai")
    #input: expand(ReBamPlus("{bamDIR}/Pfeiffer2_realigned_sorted.bam.bai"), bamDIR=config["bamDIR"])
    #input: ReBamPlus(expand("{bamDIR}/Pfeiffer2_realigned_sorted.bam.bai", bamDIR=config["bamDIR"]))
    #input: ReBamPlus(expand("{bamDIR}/Pfeiffer2_realigned_sorted.bam.bai", bamDIR=config["bamDIR"]))
    #input: expand(ReBamPlus("{bamDIR}/{samples}_realigned_sorted.bam.bai"), bamDIR=config["bamDIR"], samples=config["sample"])
    input: expand("{bamDIR}/{samples}_realigned_sorted.bam.bai", bamDIR=config["bamDIR"], samples=config["sample"])
