# mpileup Module (Multi-Snakemake)
This directory contains the mpileup module. It is a multi-module system. The modules differ in their ability 
to process '.bam' files at a per chromosome granularity. The option of chromosomal granularity is not made
within this rule, but rather, it is made by caller of this submodule. The rule which calls mpileup will 
call with or without chromosomal resolution.

## Modules:
See individual files for expanded explanations of their purpose and the manner in which they accomplish it.
* mpileupSPLIT: Produce a '.mpileup' file from a '.BAM' file, processed by chromosome.
* mpileupUNSPLIT: Produce a '.mpileup' file from a '.BAM' file.
* **mpileup_INCLUDE: Master file which includes the modules above.**

## Regression Testing:
Most recently on: **June 21st, 2017**

**Directory Prefix = /genesis/extscratch/clc/projects/tboyarski/RegressionTest/1-mpileup/mpileup-**

Please refer the the contained "RegTestREADME" directory for more information about each of the following directories:
    1 = 1-SPLIT_UNSPLIT

Module | Directory Tested Within
:--------: | :--------
mpileupSPLIT | 1
mpileupUNSPLIT | 1

## Logging:
Will be stored in: "log/mpileup"

## Global Directories:
* inputDIR = Directory to contain all files prior to starting pipeline. 
* outputDIR = Directory to contain all file generated by the pipeline
* bamDIR = Directory to contain the '.BAM' files.
* mpileDIR = Directory to contain the '.mpilup' file.

## Global Paramters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | refFILE | ../path/to/GRCh37-lite.fa | Absolute path to genomic reference file.
All | offCluster | False | Adds input redirection to end of shell calls as to capture STDERR when not on cluster.
All | shellCallFile | shellCalls.txt | File to which a copy of all shell calls is printed.
mpileupSPLIT | chrLIST | ['chr1', ... 'chrY'] OR ['1', ... 'Y'] | List of organism (Human or Mouse) and format (NCBI or UCSC) specific chromosomes

## Module Specific Software
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------

## Module Specific Paramters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | bitFlag | 512 | Bitwise flag
All | countOrphan | -A | Count orphan reads
All | noBaq | -B | BAQ computation
All | maxDepth | -d 10000000 | Maximum read depth
All | mapQuality | -q 20 | Minimum quality of reads to be used.
All | bedFILE | '' | Sets the target region to call variants (Bed File Format). Use '-l ' + bedFILE name.
