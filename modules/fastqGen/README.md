# fastqGen Module (Single-Snakemake)
This directory contains the fastqGenGen module. It is a single-module system.

## Modules:
See invidual files for expanded explanations of their purpose and the manner in which they accomplish it.
* bam2fastq_picard: Generate read-directed '.fastq' files from a '.bam' file.
* **bamGen: Master file which includes the modules above.**

## Regression Testing:
Most recently on: **June 30th, 2017**

**Directory Prefix = /genesis/extscratch/clc/projects/tboyarski/RegressionTest/1-fastqGen**

Please refer the the contained "RegTestREADME" directory for more information about each of the following directories:

    1 = 1-bam2fastq_picard

Module | Directory Tested Within
:--------: | :--------:
bam2fastq_picard | 1

## Logging:
Will be stored in: "log/bamGen"

## Control Flags
N/A

YAML Flag | SubModules | Value required to set
:--------: | :--------: | :--------
N/A | N/A | N/A

## Global Directories:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | outputDIR | output | Directory to contain all file generated by the pipeline.
All | fastqDIR | fastq | Directory to contain the processed '.fastq' files.

## Global Parameters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | shellCallFile | shellCalls.txt | File to which a copy of all shell calls is printed.
All | offCluster | False | Adds input redirection to end of shell calls as to capture STDERR when not on cluster.
All | intermediateKEEP | False | Remove intermediate files which are not likely to be used after intial processing.
All | fastqKEEP | False | Flag of 'True' or 'False' on retaining '.fastq' files after they are used in the pipeline.
All | refFILE | ../path/to/GRCh37-lite.fa | Absolute path to genomic reference file. (Set in buildpipe.py)

## Module Specific Software:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | fastqGen_samtoolsProg | samtools | Program path.
All | fastqGen_picardProg | picard | Program path.


## Module Specific Parameters:
Module | Argument | Default Value | Description
:--------: | :--------: | :--------: | :--------
All | rawBamDIR | rawBam | Directory to contain the original '.bam' files.
All | fastqGenDIR | fastqGen | Directory to contain the log files.
ALL | picardMaxRec | MAX_RECORDS_IN_RAM=5000000 | Specify the number of records stored in RAM before spilling to disk.
ALL | picardValStringency | VALIDATION_STRINGENCY=LENIENT | Validation stringency for all SAM files read by this program.
ALL | samtoolsSortMem | 4000000000 | Samtools sort memory allocation of SAM file prior to conversion to ".fastq" format. ** MUST BE REPRESENTED AS AN INTEGER! (NOT 4GB) **
